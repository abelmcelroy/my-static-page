!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";(function(e){var r,n="undefined"!=typeof Symbol?Symbol("immer-nothing"):((r={})["immer-nothing"]=!0,r),i="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-draftable"):"__$immer_draftable",o="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-state"):"__$immer_state";function s(e){return!!e&&!!e[o]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||!!e[i]||!!e.constructor[i])}var c=Object.assign||function(e,t){for(var r in t)p(t,r)&&(e[r]=t[r]);return e},u="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function l(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return u(e).forEach((function(n){if(n!==o){var i=Object.getOwnPropertyDescriptor(e,n),s=i.value;if(i.get){if(!t)throw new Error("Immer drafts cannot have computed properties");s=i.get.call(e)}i.enumerable?r[n]=s:Object.defineProperty(r,n,{value:s,writable:!0,configurable:!0})}})),r}function f(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)t(r,e[r],e);else u(e).forEach((function(r){return t(r,e[r],e)}))}function h(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&r.enumerable}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function v(e){if(!a(e))return e;if(Array.isArray(e))return e.map(v);var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=v(e[r]);return t}var m=function(e){this.drafts=[],this.parent=e,this.canAutoFreeze=!0,this.patches=null};function y(e){e[o].revoke()}m.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},m.prototype.revoke=function(){this.leave(),this.drafts.forEach(y),this.drafts=null},m.prototype.leave=function(){this===m.current&&(m.current=this.parent)},m.current=null,m.enter=function(){return this.current=new m(this.current)};var g={};function b(e,t){var r=Array.isArray(e),n=A(e);f(n,(function(t){!function(e,t,r){var n=g[t];n?n.enumerable=r:g[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){E(e);var r=x(w(e),t);if(e.finalizing)return r;if(r===x(e.base,t)&&a(r))return O(e),e.copy[t]=b(r,e);return r}(this[o],t)},set:function(e){!function(e,t,r){if(E(e),e.assigned[t]=!0,!e.modified){if(d(r,x(w(e),t)))return;P(e),O(e)}e.copy[t]=r}(this[o],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||h(e,t))}));var i,s,c,u=t?t.scope:m.current;return i=n,s=o,c={scope:u,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoke:_,revoked:!1},Object.defineProperty(i,s,{value:c,enumerable:!1,writable:!0}),u.drafts.push(n),n}function _(){this.revoked=!0}function w(e){return e.copy||e.base}function x(e,t){var r=e[o];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function P(e){e.modified||(e.modified=!0,e.parent&&P(e.parent))}function O(e){e.copy||(e.copy=A(e.base))}function A(e){var t=e&&e[o];if(t){t.finalizing=!0;var r=l(t.draft,!0);return t.finalizing=!1,r}return l(e)}function E(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(w(e)))}function N(e){for(var t=e.length-1;t>=0;t--){var r=e[t][o];r.modified||(Array.isArray(r.base)?T(r)&&P(r):j(r)&&P(r))}}function j(e){for(var t=e.base,r=e.draft,n=Object.keys(r),i=n.length-1;i>=0;i--){var s=n[i],a=t[s];if(void 0===a&&!p(t,s))return!0;var c=r[s],u=c&&c[o];if(u?u.base!==a:!d(c,a))return!0}return n.length!==Object.keys(t).length}function T(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var k=Object.freeze({willFinalize:function(e,t,r){e.drafts.forEach((function(e){e[o].finalizing=!0})),r?s(t)&&t[o].scope===e&&N(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var r=t[o];if(!r)return;var n=r.base;var i=r.draft;var s=r.assigned;if(Array.isArray(t)){if(T(r)){if(P(r),s.length=!0,i.length<n.length)for(var a=i.length;a<n.length;a++)s[a]=!1;else for(var c=n.length;c<i.length;c++)s[c]=!0;for(var u=0;u<i.length;u++)void 0===s[u]&&e(i[u])}}else Object.keys(i).forEach((function(t){void 0!==n[t]||p(n,t)?s[t]||e(i[t]):(s[t]=!0,P(r))})),Object.keys(n).forEach((function(e){void 0!==i[e]||p(i,e)||(s[e]=!1,P(r))}))}(e.drafts[0]),N(e.drafts))},createProxy:b});function z(e,t){var r=t?t.scope:m.current,n={scope:r,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},i=Array.isArray(e)?Proxy.revocable([n],V):Proxy.revocable(n,S),o=i.revoke,s=i.proxy;return n.draft=s,n.revoke=o,r.drafts.push(s),s}var S={get:function(e,t){if(t===o)return e;var r=e.drafts;if(!e.modified&&p(r,t))return r[t];var n=F(e)[t];if(e.finalized||!a(n))return n;if(e.modified){if(n!==M(e.base,t))return n;r=e.copy}return r[t]=z(n,e)},has:function(e,t){return t in F(e)},ownKeys:function(e){return Reflect.ownKeys(F(e))},set:function(e,t,r){if(!e.modified){var n=M(e.base,t);if(r?d(n,r)||r===e.drafts[t]:d(n,r)&&t in e.base)return!0;D(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){void 0!==M(e.base,t)||t in e.base?(e.assigned[t]=!1,D(e)):e.assigned[t]&&delete e.assigned[t];e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var r=F(e),n=Reflect.getOwnPropertyDescriptor(r,t);n&&(n.writable=!0,n.configurable=!Array.isArray(r)||"length"!==t);return n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},V={};function F(e){return e.copy||e.base}function M(e,t){var r=e[o],n=Reflect.getOwnPropertyDescriptor(r?F(r):e,t);return n&&n.value}function D(e){e.modified||(e.modified=!0,e.copy=c(l(e.base),e.drafts),e.drafts=null,e.parent&&D(e.parent))}f(S,(function(e,t){V[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),V.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return S.deleteProperty.call(this,e[0],t)},V.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return S.set.call(this,e[0],t,r)};var L=Object.freeze({willFinalize:function(){},createProxy:z});function C(e,t,r,n){Array.isArray(e.base)?function(e,t,r,n){var i,o,s=e.base,a=e.copy,c=e.assigned;a.length<s.length&&(s=(i=[a,s])[0],a=i[1],r=(o=[n,r])[0],n=o[1]);var u=a.length-s.length,l=0;for(;s[l]===a[l]&&l<s.length;)++l;var f=s.length;for(;f>l&&s[f-1]===a[f+u-1];)--f;for(var h=l;h<f;++h)if(c[h]&&a[h]!==s[h]){var p=t.concat([h]);r.push({op:"replace",path:p,value:a[h]}),n.push({op:"replace",path:p,value:s[h]})}for(var d=r.length,v=f+u-1;v>=f;--v){var m=t.concat([v]);r[d+v-f]={op:"add",path:m,value:a[v]},n.push({op:"remove",path:m})}}(e,t,r,n):function(e,t,r,n){var i=e.base,o=e.copy;f(e.assigned,(function(e,s){var a=i[e],c=o[e],u=s?e in i?"replace":"add":"remove";if(a!==c||"replace"!==u){var l=t.concat(e);r.push("remove"===u?{op:u,path:l}:{op:u,path:l,value:c}),n.push("add"===u?{op:"remove",path:l}:"remove"===u?{op:"add",path:l,value:a}:{op:"replace",path:l,value:a})}}))}(e,t,r,n)}var I=function(e,t){for(var r=0,n=t;r<n.length;r+=1){var i=n[r],o=i.path,s=i.op,a=v(i.value);if(!o.length)throw new Error("Illegal state");for(var c=e,u=0;u<o.length-1;u++)if(!(c=c[o[u]])||"object"!=typeof c)throw new Error("Cannot apply patch, path doesn't resolve: "+o.join("/"));var l=o[o.length-1];switch(s){case"replace":c[l]=a;break;case"add":Array.isArray(c)?c.splice(l,0,a):c[l]=a;break;case"remove":Array.isArray(c)?c.splice(l,1):delete c[l];break;default:throw new Error("Unsupported patch operation: "+s)}}return e};var $={useProxies:"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},R=function(e){c(this,$,e),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)};R.prototype.produce=function(e,t,r){var i,o=this;if("function"==typeof e&&"function"!=typeof t){var s=t;t=e;var c=this;return function(e){var r=this;void 0===e&&(e=s);for(var n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return c.produce(e,(function(e){return t.call.apply(t,[r,e].concat(n))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(a(e)){var u=m.enter(),l=this.createProxy(e),f=!0;try{i=t(l),f=!1}finally{f?u.revoke():u.leave()}return i instanceof Promise?i.then((function(e){return u.usePatches(r),o.processResult(e,u)}),(function(e){throw u.revoke(),e})):(u.usePatches(r),this.processResult(i,u))}return void 0===(i=t(e))?e:i!==n?i:void 0},R.prototype.produceWithPatches=function(e,t,r){var n,i,o=this;if("function"==typeof e)return function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))};if(r)throw new Error("A patch listener cannot be passed to produceWithPatches");return[this.produce(e,t,(function(e,t){n=e,i=t})),n,i]},R.prototype.createDraft=function(e){if(!a(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=m.enter(),r=this.createProxy(e);return r[o].isManual=!0,t.leave(),r},R.prototype.finishDraft=function(e,t){var r=e&&e[o];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),this.processResult(void 0,n)},R.prototype.setAutoFreeze=function(e){this.autoFreeze=e},R.prototype.setUseProxies=function(e){this.useProxies=e,c(this,e?L:k)},R.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return s(e)?I(e,t):this.produce(e,(function(e){return I(e,t.slice(r+1))}))},R.prototype.processResult=function(e,t){var r=t.drafts[0],i=void 0!==e&&e!==r;if(this.willFinalize(t,e,i),i){if(r[o].modified)throw t.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");a(e)&&(e=this.finalize(e,null,t)),t.patches&&(t.patches.push({op:"replace",path:[],value:e}),t.inversePatches.push({op:"replace",path:[],value:r[o].base}))}else e=this.finalize(r,[],t);return t.revoke(),t.patches&&t.patchListener(t.patches,t.inversePatches),e!==n?e:void 0},R.prototype.finalize=function(e,t,r){var n=this,i=e[o];if(!i)return Object.isFrozen(e)?e:this.finalizeTree(e,null,r);if(i.scope!==r)return e;if(!i.modified)return i.base;if(!i.finalized){if(i.finalized=!0,this.finalizeTree(i.draft,t,r),this.onDelete)if(this.useProxies){var s=i.assigned;for(var a in s)s[a]||this.onDelete(i,a)}else{var c=i.base,u=i.copy;f(c,(function(e){p(u,e)||n.onDelete(i,e)}))}this.onCopy&&this.onCopy(i),this.autoFreeze&&r.canAutoFreeze&&Object.freeze(i.copy),t&&r.patches&&C(i,t,r.patches,r.inversePatches)}return i.copy},R.prototype.finalizeTree=function(e,t,r){var n=this,i=e[o];i&&(this.useProxies||(i.copy=l(i.draft,!0)),e=i.copy);var c=!!t&&!!r.patches,u=function(o,l,p){if(l===p)throw Error("Immer forbids circular references");var v=!!i&&p===e;if(s(l)){var m=v&&c&&!i.assigned[o]?t.concat(o):null;if(s(l=n.finalize(l,m,r))&&(r.canAutoFreeze=!1),Array.isArray(p)||h(p,o)?p[o]=l:Object.defineProperty(p,o,{value:l}),v&&l===i.base[o])return}else{if(v&&d(l,i.base[o]))return;a(l)&&!Object.isFrozen(l)&&f(l,u)}v&&n.onAssign&&n.onAssign(i,o,l)};return f(e,u),e};var W=new R,H=W.produce;W.produceWithPatches.bind(W),W.setAutoFreeze.bind(W),W.setUseProxies.bind(W),W.applyPatches.bind(W),W.createDraft.bind(W),W.finishDraft.bind(W);t.a=H}).call(this,r(1))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";r.r(t);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n=new WeakMap,i=e=>"function"==typeof e&&n.has(e),o=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,s=(e,t,r=null)=>{for(;t!==r;){const r=t.nextSibling;e.removeChild(t),t=r}},a={},c={},u=`{{lit-${String(Math.random()).slice(2)}}}`,l=`\x3c!--${u}--\x3e`,f=new RegExp(`${u}|${l}`),h="$lit$";class p{constructor(e,t){this.parts=[],this.element=t;const r=[],n=[],i=document.createTreeWalker(t.content,133,null,!1);let o=0,s=-1,a=0;const{strings:c,values:{length:l}}=e;for(;a<l;){const e=i.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:r}=t;let n=0;for(let e=0;e<r;e++)d(t[e].name,h)&&n++;for(;n-- >0;){const t=c[a],r=y.exec(t)[2],n=r.toLowerCase()+h,i=e.getAttribute(n);e.removeAttribute(n);const o=i.split(f);this.parts.push({type:"attribute",index:s,name:r,strings:o}),a+=o.length-1}}"TEMPLATE"===e.tagName&&(n.push(e),i.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(u)>=0){const n=e.parentNode,i=t.split(f),o=i.length-1;for(let t=0;t<o;t++){let r,o=i[t];if(""===o)r=m();else{const e=y.exec(o);null!==e&&d(e[2],h)&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-h.length)+e[3]),r=document.createTextNode(o)}n.insertBefore(r,e),this.parts.push({type:"node",index:++s})}""===i[o]?(n.insertBefore(m(),e),r.push(e)):e.data=i[o],a+=o}}else if(8===e.nodeType)if(e.data===u){const t=e.parentNode;null!==e.previousSibling&&s!==o||(s++,t.insertBefore(m(),e)),o=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(r.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(u,t+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=n.pop()}for(const e of r)e.parentNode.removeChild(e)}}const d=(e,t)=>{const r=e.length-t.length;return r>=0&&e.slice(r)===t},v=e=>-1!==e.index,m=()=>document.createComment(""),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class g{constructor(e,t,r){this.__parts=[],this.template=e,this.processor=t,this.options=r}update(e){let t=0;for(const r of this.__parts)void 0!==r&&r.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=o?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],r=this.template.parts,n=document.createTreeWalker(e,133,null,!1);let i,s=0,a=0,c=n.nextNode();for(;s<r.length;)if(i=r[s],v(i)){for(;a<i.index;)a++,"TEMPLATE"===c.nodeName&&(t.push(c),n.currentNode=c.content),null===(c=n.nextNode())&&(n.currentNode=t.pop(),c=n.nextNode());if("node"===i.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(c.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,i.name,i.strings,this.options));s++}else this.__parts.push(void 0),s++;return o&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const b=` ${u} `;class _{constructor(e,t,r,n){this.strings=e,this.values=t,this.type=r,this.processor=n}getHTML(){const e=this.strings.length-1;let t="",r=!1;for(let n=0;n<e;n++){const e=this.strings[n],i=e.lastIndexOf("\x3c!--");r=(i>-1||r)&&-1===e.indexOf("--\x3e",i+1);const o=y.exec(e);t+=null===o?e+(r?b:l):e.substr(0,o.index)+o[1]+o[2]+h+o[3]+u}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const w=e=>null===e||!("object"==typeof e||"function"==typeof e),x=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class P{constructor(e,t,r){this.dirty=!0,this.element=e,this.name=t,this.strings=r,this.parts=[];for(let e=0;e<r.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new O(this)}_getValue(){const e=this.strings,t=e.length-1;let r="";for(let n=0;n<t;n++){r+=e[n];const t=this.parts[n];if(void 0!==t){const e=t.value;if(w(e)||!x(e))r+="string"==typeof e?e:String(e);else for(const t of e)r+="string"==typeof t?t:String(t)}}return r+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class O{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===a||w(e)&&e===this.value||(this.value=e,i(e)||(this.committer.dirty=!0))}commit(){for(;i(this.value);){const e=this.value;this.value=a,e(this)}this.value!==a&&this.committer.commit()}}class A{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(m()),this.endNode=e.appendChild(m())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=m()),e.__insert(this.endNode=m())}insertAfterPart(e){e.__insert(this.startNode=m()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=a,e(this)}const e=this.__pendingValue;e!==a&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof _?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):x(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,r="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof g&&this.value.template===t)this.value.update(e.values);else{const r=new g(t,e.processor,this.options),n=r._clone();r.update(e.values),this.__commitNode(n),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let r,n=0;for(const i of e)void 0===(r=t[n])&&(r=new A(this.options),t.push(r),0===n?r.appendIntoPart(this):r.insertAfterPart(t[n-1])),r.setValue(i),r.commit(),n++;n<t.length&&(t.length=n,this.clear(r&&r.endNode))}clear(e=this.startNode){s(this.startNode.parentNode,e.nextSibling,this.endNode)}}class E{constructor(e,t,r){if(this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=a,e(this)}if(this.__pendingValue===a)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=a}}class N extends P{constructor(e,t,r){super(e,t,r),this.single=2===r.length&&""===r[0]&&""===r[1]}_createPart(){return new j(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class j extends O{}let T=!1;try{const e={get capture(){return T=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class k{constructor(e,t,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=r,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=a,e(this)}if(this.__pendingValue===a)return;const e=this.__pendingValue,t=this.value,r=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),n=null!=e&&(null==t||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),n&&(this.__options=z(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=a}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const z=e=>e&&(T?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const S=new class{handleAttributeExpressions(e,t,r,n){const i=t[0];if("."===i){return new N(e,t.slice(1),r).parts}return"@"===i?[new k(e,t.slice(1),n.eventContext)]:"?"===i?[new E(e,t.slice(1),r)]:new P(e,t,r).parts}handleTextExpression(e){return new A(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function V(e){let t=F.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},F.set(e.type,t));let r=t.stringsArray.get(e.strings);if(void 0!==r)return r;const n=e.strings.join(u);return void 0===(r=t.keyString.get(n))&&(r=new p(e,e.getTemplateElement()),t.keyString.set(n,r)),t.stringsArray.set(e.strings,r),r}const F=new Map,M=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const D=(e,...t)=>new _(e,t,"html",S);var L=r(0);var C=new(function(){function e(t,r,n){var i=this;this.callbacks=[],this.getState=function(){return i.getter(i.root.rootState)},this.update=function(e){var t=e instanceof Function?e:function(t){return Object.assign(t,e)};i.root.rootState=Object(L.a)(i.root.rootState,(function(e){t(i.getter(e))})),i.root.callbacks.forEach((function(e){return e()}))},this.storeFor=function(t){return new e(i,t)},this.updaterFor=function(e){return i.storeFor(e).update},this.subscribe=function(e){if(i.root!=i)throw"Only the top level store can be subscribed to.";return i.callbacks.push(e),function(){return i.callbacks.splice(i.callbacks.indexOf(e),1)}},this.parent=t,this.root=t&&t.root||this,t||(this.rootState=n),this.getter=function(e){return r(t?t.getter(e):e)}}return Object.defineProperty(e.prototype,"state",{get:function(){return this.getState()},enumerable:!0,configurable:!0}),e}())(null,(function(e){return e}),{message:"first thing"});var I=D`
  <button @click=${{handleEvent(e){C.update(e=>{console.log(e.message),e.message=`new thing ${Math.random()}`})},capture:!0}}></button>
`;var $=(e=>()=>D`
  <div>
    ${e.state.message}
    ${I}
    ${I}
  </div>
`)(C);const R=()=>{((e,t,r)=>{let n=M.get(t);void 0===n&&(s(t,t.firstChild),M.set(t,n=new A(Object.assign({templateFactory:V},r))),n.appendInto(t)),n.setValue(e),n.commit()})($(),document.body)};C.subscribe(R),R()}]);